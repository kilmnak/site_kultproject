# КультПросвет - Система продажи билетов

Информационная система для концертного агентства "КультПросвет", предназначенная для автоматизации процессов продажи билетов на культурно-массовые мероприятия.

## Описание проекта

Система "КультПросвет" представляет собой полнофункциональную платформу для:
- Управления мероприятиями (концерты, театральные постановки, фестивали)
- Онлайн-продажи билетов с интерактивным выбором мест
- Управления клиентской базой
- Аналитики и отчетности
- Администрирования системы

## Основные возможности

### Для клиентов:
- Просмотр афиши мероприятий
- Регистрация и личный кабинет
- Покупка билетов с выбором мест
- Электронные билеты с QR-кодами
- История покупок и бронирований
- Система уведомлений

### Для администраторов:
- Создание и управление мероприятиями
- Настройка схем залов и ценовых категорий
- Управление пользователями
- Аналитика продаж и посещаемости
- Отчеты по выручке
- Мониторинг системы

## Технические требования

### Серверные требования:
- PHP 8.0 или выше
- MySQL 8.0 или PostgreSQL 13
- Apache 2.4 с модулем mod_rewrite или Nginx
- SSL-сертификат (для продакшена)

### Клиентские требования:
- Современный браузер (Chrome, Firefox, Safari, Edge)
- JavaScript включен
- Поддержка CSS3

## Установка

### 1. Клонирование репозитория
```bash
git clone https://github.com/your-repo/site_kultproject.git
cd site_kultproject
```

### 2. Настройка веб-сервера
Настройте виртуальный хост, указывающий на корневую папку проекта.

### 3. Настройка базы данных
1. Создайте базу данных MySQL:
```sql
CREATE DATABASE kultproject CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. Импортируйте схему базы данных:
```bash
mysql -u username -p kultproject < includes/database.sql
```

### 4. Настройка конфигурации
Отредактируйте файл `config.php`:
```php
// Настройки базы данных
define('DB_HOST', 'localhost');
define('DB_NAME', 'kultproject');
define('DB_USER', 'your_username');
define('DB_PASS', 'your_password');

// Настройки сайта
define('SITE_NAME', 'КультПросвет');
define('SITE_URL', 'https://your-domain.com');
define('ADMIN_EMAIL', 'admin@your-domain.com');
```

### 5. Настройка прав доступа
```bash
chmod 755 uploads/
chmod 644 config.php
```

### 6. Первоначальная настройка
1. Откройте сайт в браузере
2. Войдите в админ-панель с учетными данными:
   - Email: admin@kultproject.ru
   - Пароль: password (смените после первого входа!)

## Структура проекта

```
site_kultproject/
├── assets/                 # Статические ресурсы
│   ├── css/               # Стили
│   └── js/                # JavaScript
├── includes/              # Вспомогательные файлы
│   ├── database.php       # Класс для работы с БД
│   ├── database.sql       # Схема базы данных
│   └── functions.php      # Основные функции
├── admin/                 # Административная панель
│   ├── index.php          # Главная страница админ-панели
│   ├── admin-header.php   # Общий header для админки
│   ├── dashboard.php      # Панель управления
│   ├── events.php         # Управление мероприятиями
│   ├── users.php          # Управление пользователями
│   ├── analytics.php      # Аналитика и отчеты
│   └── settings.php       # Настройки системы
├── uploads/               # Загруженные файлы
├── config.php             # Конфигурация
├── header.php             # Шапка сайта
├── index.php              # Главная страница
├── about.php              # Страница "О нас"
├── contact.php            # Страница "Контакты"
├── terms.php              # Условия использования
├── privacy.php            # Политика конфиденциальности
├── admin-login.php         # Страница входа в админ-панель
├── logout.php              # Выход из системы
├── .htaccess               # Настройки Apache
└── README.md               # Документация
```

## Основные модули

### 1. Модуль управления мероприятиями
- Создание и редактирование мероприятий
- Загрузка схем залов
- Настройка ценовых категорий
- Управление расписанием

### 2. Модуль продаж и бронирования
- Интерактивная карта мест
- Система бронирования (15-20 минут)
- Интеграция с платежными системами
- Генерация электронных билетов

### 3. Клиентский модуль
- Личный кабинет пользователя
- История заказов
- Система уведомлений
- Отзывы и оценки

### 4. Административная панель

Полнофункциональная админ-панель с отдельной системой аутентификации:

- **Вход в админку**: `/admin-login.php`
- **Админ-панель**: `/admin/`
- **Первый администратор**: настраивается в `config.php`

#### Возможности админ-панели:

1. **Панель управления** (`/admin/?page=dashboard`)
   - Общая статистика системы
   - Последние мероприятия, пользователи, бронирования
   - Быстрые действия

2. **Управление мероприятиями** (`/admin/?page=events`)
   - Создание, редактирование, удаление мероприятий
   - Управление статусами (черновик, опубликовано, отменено, завершено)
   - Фильтрация и поиск
   - Статистика по мероприятиям

3. **Управление пользователями** (`/admin/?page=users`)
   - Просмотр всех пользователей
   - Изменение ролей (клиент, менеджер, администратор)
   - Блокировка/разблокировка пользователей
   - Удаление пользователей
   - Фильтрация по ролям и статусу

4. **Аналитика и отчеты** (`/admin/?page=analytics`)
   - Статистика выручки по периодам
   - Графики динамики продаж
   - Топ мероприятий по выручке
   - Статистика по дням недели
   - Экспорт отчетов

5. **Настройки системы** (`/admin/?page=settings`)
   - Основные настройки сайта
   - Настройки бронирования
   - Конфигурация SMTP
   - Настройки платежных систем
   - Информация о системе

#### Первый вход в админ-панель:

1. Откройте `/admin-login.php`
2. Используйте данные из `config.php`:
   - **Email**: `FIRST_ADMIN_EMAIL`
   - **Пароль**: `FIRST_ADMIN_PASSWORD`
3. После входа обязательно смените пароль!

#### Безопасность:

- Отдельная система аутентификации для админов
- Проверка ролей на каждом уровне
- Защита от изменения собственной роли/статуса
- Безопасный выход из системы

### 5. Аналитический модуль
- Отчеты по продажам
- Статистика посещаемости
- Анализ эффективности
- Прогнозирование спроса

### 5. Административный модуль
- Управление пользователями
- Настройка системы
- Мониторинг производительности
- Резервное копирование

## API

Система предоставляет REST API для интеграции с внешними сервисами:

### Аутентификация
```http
POST /api/auth/login
Content-Type: application/json

{
    "email": "user@example.com",
    "password": "password"
}
```

### Получение мероприятий
```http
GET /api/events?status=published&limit=10
Authorization: Bearer {token}
```

### Создание бронирования
```http
POST /api/bookings
Authorization: Bearer {token}
Content-Type: application/json

{
    "event_id": 1,
    "seat_ids": [1, 2, 3]
}
```

## Безопасность

- SSL-шифрование всех передаваемых данных
- Защита от SQL-инъекций и XSS-атак
- Сертификация PCI DSS для платежей
- Регулярное обновление системы безопасности
- Валидация всех пользовательских данных

## Производительность

- Время отклика системы: не более 2 секунд
- Поддержка 1000+ одновременных пользователей
- Обработка до 100 транзакций в секунду
- Время доступности системы: 99.5%

## Масштабируемость

- Возможность горизонтального масштабирования
- Поддержка увеличения нагрузки в 3 раза
- Гибкая архитектура для добавления новых модулей
- Кэширование часто используемых данных

## Поддержка браузеров

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- Адаптивный дизайн для мобильных устройств

## Разработка

### Требования для разработки:
- PHP 8.0+
- Composer
- Node.js 16+
- Git

### Установка зависимостей:
```bash
composer install
npm install
```

### Запуск в режиме разработки:
```bash
php -S localhost:8000
```

## Лицензия

Проект распространяется под лицензией MIT. См. файл LICENSE для подробностей.

## Поддержка

Для получения поддержки обращайтесь:
- Email: support@kultproject.ru
- Телефон: +7 (495) 123-45-67
- Документация: https://docs.kultproject.ru

## Вклад в проект

Мы приветствуем вклад в развитие проекта! Пожалуйста:
1. Форкните репозиторий
2. Создайте ветку для новой функции
3. Внесите изменения
4. Создайте Pull Request

## Changelog

### v1.0.0 (2024-01-01)
- Первый релиз системы
- Базовый функционал продажи билетов
- Административная панель
- Аналитика и отчеты
Сайт для "КультПроект" (Курсовой проект)
